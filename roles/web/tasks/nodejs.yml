---
- name: Import Nodesource RPM key
  rpm_key:
    key: https://rpm.nodesource.com/pub/el/NODESOURCE-GPG-SIGNING-KEY-EL
    state: present

- name: Add Nodesource repositories for Node.js (CentOS 7+).
  yum:
    name: "https://rpm.nodesource.com/pub_10.x/el/7/x86_64/nodesource-release-el7-1.noarch.rpm"
    state: present

- name: Ensure Node.js and npm are installed.
  yum: name=nodejs state=latest enablerepo='nodesource'

- name: Create a symbolic link
  file:
    src: /usr/bin/node
    dest: /usr/bin/nodejs
    state: link
